---
# Install some Python development tools
dev_mode: true

# Set Tryton in development mode
tryton_dev: True

# Sysadmins
system_administrators:
  - name: daniel
    ssh_key: '{{ inventory_dir }}/../file/keys/daniel.pub'
    state: present
  - name: enrico
    ssh_key: '{{ inventory_dir }}/../file/keys/enrico.pub'
    state: present
  - name: pau
    ssh_key: '{{ inventory_dir }}/../file/keys/pau.pub'
    state: present
  - name: ferran
    ssh_key: '{{ inventory_dir }}/../file/keys/ferran.pub'
    state: present

# Users with access to Tryton user via SSH. The name ins only for document who the key is.
tryton_user_keys:
  - ssh_key: '~/.ssh/id_rsa.pub'
    state: present

trytond_db_uri: 'postgresql://{{ db_user }}:{{ db_user_password }}@:{{ db_port }}/{{ db_name }}'
uwsgi_config: 'server-eticom-dev.ini'
nginx_config: 'uwsgi-dev.nginx'

# Integrations

## OTRS
otrs_rpc_passw: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65616439383563316537303730633131303130666435306434653535323237363037363033306439
          3266613766373630646432613130383230616434333635350a623234633165393638646136343862
          31666364613263366235326663383062303861303462616133353464613237643630306164613139
          3038363961333039350a336566643737633634386233323035373135363331633566623434643239
          34346663343137653932313734383036383830333764646462653436373935643861
otrs_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          64396336363131656330333631326330633036373466336566353430353134306636613061373163
          6530353735613461313030373235366663306361616236330a613833353265363735623039343132
          62376238653365353536393230353464626633346666343065323838343664373737386564663438
          6561396538666164640a313838353663363235353564326234623164626237626132393662373166
          3934
otrs_salt: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          63653765393737363139343436633464376139353930313431323063316338633536343433663931
          3066373663363632343662356635326332373562336464340a356135383037346338356562323633
          37653939326663333863373238383761336533393465343032316562383030333531643438663264
          3662633963356262370a613066636161373661343562656234613039383238666464663337636139
          62613836343733303732653634376437386630326666313935393435613166363138323634633936
          6461393562343935356263383332626463373835306235356531
otrs_url: 'https://stagingotrs.somconnexio.coop:10443/'
otrs_rpc_url: 'https://stagingotrs.somconnexio.coop:10443/rpc.pl'

# OpenCell
opencell_url: 'https://stagingopencell.coopdevs.org/opencell'
opencell_user: 'opencell.admin'
opencell_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          35393330623633336432396663613138663964313533626231333134316139346164666266353065
          3739636564313135616237613365316163386161636634630a363762396561623462666334623034
          31333934336334346234303737343064396435663264666236316162376162633137306634613065
          3034313266626233380a313063613963306132333539616338643134616130333331663938336635
          6532

# Let's Encrypt conf
certificate_authority_email: "info@coopdevs.org"
development_environment: false

# DB vars
db_hba_entries:
  - { type: local, database: all, user: postgres, auth_method: peer }
  - { type: local, database: all, user: all, auth_method: peer }
  - { type: host, database: all, user: all, address: '127.0.0.1/32', auth_method: md5 }
  - { type: host, database: all, user: all, address: '::1/128', auth_method: md5 }
db_port: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          31653130643838623237393564303538333261336136333762353364313030393830363566366639
          3732666265626663613539613135336432303663383530660a653635393435393230626266393830
          32343231386135353663636264316336396537636339643363616134323264643464653132323239
          3831366264396266610a396333353463613934346138396631643866366562306235663364323165
          6266
db_user_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          66363134633466333461313134313933306561343865653762386663666363376337633431393433
          3061656635313935656135663066653733653838633936630a646437613435396438303533356262
          39303833316666643462333337326463643335383130363362383064383539396432383038663064
          3337663164343332660a313361323838333863306165306434313732356465656233366461393032
          3131

# OTRS vars
otrs_user: 'tryton'
otrs_rpc_user: 'somconnexio_rpc'

# Flower vars
flower_user: 'administrator'
flower_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          30663431303937633966303136613239656564346632383235646633623335333762373430333034
          6130616538663134633363313133333030643433373732340a306132633131336565353932303430
          35363436326461626133366262326436653738393165353563323133393931393532366636616338
          3933633263333536300a313263613933323037666533313863313338346237623231306266303533
          6564

# Celery Tryton
celery_tryton_database: '{{ db_name }}'
celery_user: 'eticom'
celery_password: !vault |
          $ANSIBLE_VAULT;1.1;AES256
          65393562653134663961343535393435663363636432663438666562356333366261326237326131
          3837366266666133623735363164623730373431366136390a613634663238353232366536386238
          66653631653164306263356562333363393438383863303637393739613039353436346663396466
          6331666264366631330a623036386164323766343063336236303463323735313261343466613031
          6236
celery_host: 'localhost'
celery_port: 5672
celery_vhost: 'eticom'
